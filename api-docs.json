{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/api/tables":{"put":{"tags":["table-controller"],"summary":"Update table","operationId":"updateTable","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TableAddCommand"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Table"}}}}}}},"/api/orders/update/{id}":{"put":{"tags":["order-controller"],"summary":"Update order","operationId":"updateOrder","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderAddCommand"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/opinions/update":{"put":{"tags":["opinion-controller"],"summary":"Update opinion for customer","operationId":"updateOpinion","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OpinionAddCommand"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OpinionResponseDTO"}}}}}}},"/api/meals/update/{id}":{"put":{"tags":["meal-controller"],"summary":"Update a meal by id","operationId":"updateMeal","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MealAddCommand"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Meal"}}}}}}},"/api/customer/update/{id}":{"put":{"tags":["customer-controller"],"summary":"Update customer (non admin)","operationId":"updateCustomer","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterCustomerCommand"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/coupons/deactivate/{couponId}":{"put":{"tags":["coupon-controller"],"summary":"Deactivate coupon","operationId":"deactivateCoupon","parameters":[{"name":"couponId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/categories/update/{id}":{"put":{"tags":["category-controller"],"summary":"Update a category by id","operationId":"updateCategory","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryAddCommand"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Category"}}}}}}},"/auth/register":{"post":{"tags":["auth-controller"],"summary":"Register a new user","operationId":"registerUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterUserCommand"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RegisterResponseDTO"}}}}}}},"/auth/password-reset":{"get":{"tags":["auth-controller"],"summary":"Validate password reset token","operationId":"resetPasswordForm","parameters":[{"name":"token","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}},"post":{"tags":["auth-controller"],"summary":"Reset password","operationId":"resetPassword","parameters":[{"name":"token","in":"query","required":true,"schema":{"type":"string"}},{"name":"newPassword","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/auth/login":{"post":{"tags":["auth-controller"],"summary":"Log in","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginCommand"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/LoginResponseDTO"}}}}}}},"/auth/forgot-password":{"post":{"tags":["auth-controller"],"summary":"Initiate password reset process","operationId":"forgotPassword","parameters":[{"name":"email","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/tables/save":{"post":{"tags":["table-controller"],"summary":"Save table","operationId":"save","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TableAddCommand"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Table"}}}}}}},"/api/reservations":{"get":{"tags":["table-reservation-controller"],"summary":"Get all reservations","operationId":"getAllReservations","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TableReservation"}}}}}}},"post":{"tags":["table-reservation-controller"],"summary":"Create a new reservation","operationId":"createReservation","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MakeReservationCommand"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TableReservation"}}}}}}},"/api/photos/upload":{"post":{"tags":["photo-controller"],"summary":"Upload a file","description":"Uploads an image file","operationId":"uploadPhoto","requestBody":{"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"201":{"description":"File uploaded successfully","content":{"*/*":{"schema":{"type":"string"}}}},"400":{"description":"Invalid file","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/orders/add":{"post":{"tags":["order-controller"],"summary":"Add new order","operationId":"addOrder","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OrderAddCommand"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/orders/add-to-reservation":{"post":{"tags":["order-controller"],"summary":"Add order to reservation","operationId":"addOrderToReservation","parameters":[{"name":"reservationId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"orderId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Order"}}}}}}},"/api/opinions/add":{"post":{"tags":["opinion-controller"],"summary":"Add opinion","operationId":"addOpinion","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OpinionAddCommand"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/OpinionResponseDTO"}}}}}}},"/api/meals/add":{"post":{"tags":["meal-controller"],"summary":"Add a meal","operationId":"addMeal","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MealAddCommand"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Meal"}}}}}}},"/api/customer/add":{"post":{"tags":["customer-controller"],"summary":"Register new customer (non admin)","operationId":"registerCustomer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterCustomerCommand"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/coupons/create":{"post":{"tags":["coupon-controller"],"summary":"Create coupon","operationId":"createCoupon","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CouponAddCommand"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Coupon"}}}}}}},"/api/contact-form/send":{"post":{"tags":["contact-form-controller"],"summary":"Send contact email","operationId":"sendContactForm","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ContactFormCommand"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/categories/add":{"post":{"tags":["category-controller"],"summary":"Add a category","operationId":"addCategory","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CategoryAddCommand"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Category"}}}}}}},"/admin/api/config/initialize-system":{"post":{"tags":["config-controller"],"summary":"Initialize the system with configuration","operationId":"initializeSystem","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigAddCommand"}}},"required":true},"responses":{"409":{"description":"System already initialized"},"201":{"description":"System successfully initialized"}}}},"/api/tables/{id}":{"get":{"tags":["table-controller"],"summary":"Get table by ID","operationId":"getTableById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Table"}}}}}},"delete":{"tags":["table-controller"],"summary":"Delete table","operationId":"deleteTable","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/tables/all":{"get":{"tags":["table-controller"],"summary":"Get all tables","operationId":"getAllTables","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Table"}}}}}}}},"/api/stats/rated/{bestWorst}/{n}":{"get":{"tags":["stats-controller"],"summary":"Get n beast or worst rated meals","operationId":"getBestWorstRatedMeals","parameters":[{"name":"bestWorst","in":"path","required":true,"schema":{"type":"string"}},{"name":"n","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/stats/popular/{mostLeast}/{n}":{"get":{"tags":["stats-controller"],"summary":"Get n most or least popular meals","operationId":"getMostPopularMeals","parameters":[{"name":"mostLeast","in":"path","required":true,"schema":{"type":"string"}},{"name":"n","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/stats/orders-by-day-hour":{"get":{"tags":["stats-controller"],"summary":"Get amout of orders by day and hour","operationId":"getOrdersByDayAndHour","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/stats/earnings-by-year-month":{"get":{"tags":["stats-controller"],"summary":"Get earnings by year-month","operationId":"getEarningsByYearMonth","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/reservations/{id}":{"get":{"tags":["table-reservation-controller"],"summary":"Get a reservation by ID","operationId":"getReservationById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TableReservation"}}}}}},"delete":{"tags":["table-reservation-controller"],"summary":"Delete a reservation by ID","operationId":"deleteReservationById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/reservations/table/{tableId}/day/{day}":{"get":{"tags":["table-reservation-controller"],"summary":"Get reservations for a specific table on a given day","operationId":"getReservationsForTableOnDay","parameters":[{"name":"tableId","in":"path","required":true,"schema":{"type":"string"}},{"name":"day","in":"path","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TableReservation"}}}}}}}},"/api/reservations/day/{day}":{"get":{"tags":["table-reservation-controller"],"summary":"Get reservations for a specific day","operationId":"getReservationsForDay","parameters":[{"name":"day","in":"path","required":true,"schema":{"type":"string","format":"date"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TableReservation"}}}}}}}},"/api/reservations/customer/{customerId}":{"get":{"tags":["table-reservation-controller"],"summary":"Get reservations for a specific customer","operationId":"getReservationsForCustomer","parameters":[{"name":"customerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TableReservation"}}}}}}}},"/api/reservations/available-hours":{"get":{"tags":["table-reservation-controller"],"summary":"Get available hours for multiple days","operationId":"getPossibleHoursForDays","parameters":[{"name":"days","in":"query","required":true,"schema":{"type":"array","items":{"type":"string","format":"date"}}},{"name":"reservationDuration","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"minutesToAdd","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"numberOfPeople","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PossibleReservationHoursForDayDTO"}}}}}}}},"/api/reservations/available-hours/{day}":{"get":{"tags":["table-reservation-controller"],"summary":"Get available hours for a specific day","operationId":"getPossibleHoursForDay","parameters":[{"name":"day","in":"path","required":true,"schema":{"type":"string","format":"date"}},{"name":"reservationDuration","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"minutesToAdd","in":"query","required":true,"schema":{"type":"integer","format":"int32"}},{"name":"numberOfPeople","in":"query","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LocalTime"}}}}}}}},"/api/qr/table/{id}":{"get":{"tags":["qr-code-controller"],"summary":"Get QR code for table","description":"Generates a QR code for a table","operationId":"getQRCodeForOrder","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"type":"string","format":"byte"}}}}}}}},"/api/photos/download":{"get":{"tags":["photo-controller"],"summary":"Download a photo","description":"Download a photo from the server","operationId":"downloadPhoto","parameters":[{"name":"filename","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string","format":"binary"}}}}}}},"/api/orders/get/{id}":{"get":{"tags":["order-controller"],"summary":"Get order by id","operationId":"getOrderById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"default":{"description":"Returns an order with a given id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Order"}}}}}}},"/api/orders/get/customer/{customerId}":{"get":{"tags":["order-controller"],"summary":"Get all orders of a customer","operationId":"getAllOrdersOfCustomer","parameters":[{"name":"customerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/orders/all":{"get":{"tags":["order-controller"],"summary":"Get all orders","operationId":"getAllOrders","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/opinions/meal/{mealId}":{"get":{"tags":["opinion-controller"],"summary":"Get opinions for meal","operationId":"getOpinionsForMeal","parameters":[{"name":"mealId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OpinionResponseDTO"}}}}}}}},"/api/opinions/customer/{customerId}":{"get":{"tags":["opinion-controller"],"summary":"Get opinions for customer","operationId":"getOpinionsForCustomer","parameters":[{"name":"customerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/OpinionResponseDTO"}}}}}}}},"/api/opinions/average-rating/{mealId}":{"get":{"tags":["opinion-controller"],"summary":"Get average rating for meal","operationId":"getAverageRating","parameters":[{"name":"mealId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AverageRatingResponseDTO"}}}}}}},"/api/meals/search":{"get":{"tags":["meal-controller"],"summary":"Search meals by name","operationId":"searchMealsByName","parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/meals/get/{id}":{"get":{"tags":["meal-controller"],"summary":"Get meal by id","operationId":"getMealById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Meal"}}}}}}},"/api/meals/get-meals/{categoryId}":{"get":{"tags":["meal-controller"],"summary":"Get all meals with a given category id","operationId":"getMealsByCategory","parameters":[{"name":"categoryId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Meal"}}}}}}}},"/api/meals/all":{"get":{"tags":["meal-controller"],"summary":"Get all meals","operationId":"getAllMeals","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Meal"}}}}}}}},"/api/customer/get/{id}":{"get":{"tags":["customer-controller"],"summary":"Get customer by id","operationId":"getCustomerById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"default":{"description":"Returns an customerwith a given id","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Customer"}}}}}}},"/api/customer/all":{"get":{"tags":["customer-controller"],"summary":"Get all customers","operationId":"getAllCustomers","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/coupons/validate":{"get":{"tags":["coupon-controller"],"summary":"Validate coupon","operationId":"validateCoupon","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string"}},{"name":"customerId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"mealId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/coupons/meal/{mealId}":{"get":{"tags":["coupon-controller"],"summary":"Get all coupons for a meal","operationId":"getCouponsForMeal","parameters":[{"name":"mealId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Coupon"}}}}}}}},"/api/coupons/customer/{customerId}":{"get":{"tags":["coupon-controller"],"summary":"Get all coupons for a customer","operationId":"getCouponsForCustomer","parameters":[{"name":"customerId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Coupon"}}}}}}}},"/api/coupons/apply":{"get":{"tags":["coupon-controller"],"summary":"Apply coupon","operationId":"applyCoupon","parameters":[{"name":"code","in":"query","required":true,"schema":{"type":"string"}},{"name":"customerId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"mealId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"originalPrice","in":"query","required":true,"schema":{"type":"number","format":"double"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"number","format":"double"}}}}}}},"/api/categories/get/{id}":{"get":{"tags":["category-controller"],"summary":"Get category by id","operationId":"getCategoryById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/Category"}}}}}}},"/api/categories/all":{"get":{"tags":["category-controller"],"summary":"Get all categories","operationId":"getAllCategories","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Category"}}}}}}}},"/admin/api/config":{"get":{"tags":["config-controller"],"summary":"Get system configuration","operationId":"getConfig","responses":{"200":{"description":"Returns the system configuration","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Config"}}}},"404":{"description":"System not initialized"}}},"delete":{"tags":["config-controller"],"summary":"Remove all configurations including delivery prices and opening hours (testing purposes only)","operationId":"removeConfigs","responses":{"404":{"description":"No configuration to remove"},"204":{"description":"Configuration successfully removed"}}}},"/admin/api/config/opening-hours":{"get":{"tags":["config-controller"],"summary":"Get opening hours configuration","operationId":"getOpeningHours","responses":{"200":{"description":"Returns the opening hours configuration","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OpeningHour"}}}},"404":{"description":"System not initialized"}}}},"/admin/api/config/delivery-prices":{"get":{"tags":["config-controller"],"summary":"Get delivery prices configuration","operationId":"getDeliveryPrices","responses":{"200":{"description":"Returns the delivery pricing configuration","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeliveryPricing"}}}},"404":{"description":"System not initialized"}}}},"/api/orders/delete/{id}":{"delete":{"tags":["order-controller"],"summary":"Delete order","operationId":"deleteOrder","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/meals/delete/{id}":{"delete":{"tags":["meal-controller"],"summary":"Delete a meal by id","operationId":"deleteMealById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/meals/delete-meals/{categoryId}":{"delete":{"tags":["meal-controller"],"summary":"Delete all meals with a given category id","operationId":"deleteAllMealsByCategory","parameters":[{"name":"categoryId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/customer/delete/{id}":{"delete":{"tags":["customer-controller"],"summary":"Delete customer by id","operationId":"deleteCustomerById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"object"}}}}}}},"/api/categories/delete/{id}":{"delete":{"tags":["category-controller"],"summary":"Delete a category by id","operationId":"deleteCategoryById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}}},"components":{"schemas":{"TableAddCommand":{"required":["id"],"type":"object","properties":{"id":{"type":"string"},"capacity":{"type":"integer","format":"int32"}}},"Table":{"type":"object","properties":{"id":{"type":"string"},"capacity":{"type":"integer","format":"int32"}}},"MealQuantity":{"type":"object","properties":{"mealId":{"type":"integer","format":"int64"},"quantity":{"type":"integer","format":"int32"}}},"OrderAddCommand":{"required":["mealIds","status","type"],"type":"object","properties":{"mealIds":{"type":"array","description":"Quantities and ids of the meal","example":[{"mealId":"1","quantity":"2"},{"mealId":"2","quantity":"1"}],"items":{"$ref":"#/components/schemas/MealQuantity"}},"customerId":{"type":"integer","description":"Client id for the order","format":"int64","example":1},"type":{"type":"string","description":"Type of the order","example":"NA_MIEJSCU","enum":["DOSTAWA","NA_MIEJSCU","DO_STOLIKA"]},"status":{"type":"string","description":"Status of the order","example":"GOTOWE","enum":["OCZEKUJĄCE","W_TRAKCIE_REALIZACJI","GOTOWE","W_DOSTRACZENIU","DOSTARCZONE","ODRZUCONE"]},"unwantedIngredients":{"type":"array","description":"Unwanted ingredients in the order","items":{"$ref":"#/components/schemas/UnwantedIngredient"}},"deliveryAddress":{"maxLength":150,"minLength":0,"type":"string","description":"Delivery address, empty if order is in restarurant"},"deliveryDistance":{"type":"number","description":"Delivery distance, zero if it is not related","format":"double"},"tableId":{"type":"string","description":"If type DO_STOLIKA then add table id"},"people":{"type":"integer","description":"Number of people on the reservation","format":"int32"},"minutesForReservation":{"type":"integer","description":"Duration of the reservation in minutes","format":"int32","example":120},"couponCode":{"type":"string","description":"Coupon id for the order. Empty if not used"}}},"UnwantedIngredient":{"type":"object","properties":{"mealIndex":{"type":"integer","format":"int32"},"ingredients":{"type":"array","items":{"type":"string"}}}},"OpinionAddCommand":{"required":["customerId","mealId"],"type":"object","properties":{"mealId":{"type":"integer","description":"Id of the meal","format":"int64","example":1},"customerId":{"type":"integer","description":"Client id","format":"int64","example":1},"rating":{"maximum":5,"minimum":1,"type":"integer","description":"Rating for the meal","format":"int32","example":4},"comment":{"type":"string","description":"Comment for the opinion","example":"Meh"}}},"OpinionResponseDTO":{"type":"object","properties":{"customerId":{"type":"integer","format":"int64"},"rating":{"type":"integer","format":"int32"},"comment":{"type":"string"}}},"MealAddCommand":{"required":["categoryId","name"],"type":"object","properties":{"name":{"type":"string","description":"Name of the meal","example":"Spaghetti carbonara"},"price":{"type":"number","description":"Price of the meal","format":"double","example":45.99},"photographUrl":{"type":"string","description":"URL to the photo of the meal"},"ingredients":{"type":"array","description":"Ingredients used for the meal","example":["pasta","cheese"],"items":{"type":"string","description":"Ingredients used for the meal","example":"[\"pasta\",\"cheese\"]"}},"removableIngredientsList":{"type":"array","description":"Ingredients that can be removed from the meal","example":["cheese"],"items":{"type":"string","description":"Ingredients that can be removed from the meal","example":"[\"cheese\"]"}},"weightOrVolume":{"type":"number","description":"Weight or volume of the meal","format":"double","example":2.99},"unitType":{"type":"string","description":"Weight or volume","example":"GRAMY","enum":["GRAMY","MILILITRY"]},"categoryId":{"type":"integer","description":"Category of the meal","format":"int64"},"allergens":{"type":"array","description":"Possible allergens for the meal","example":["gluten","lactose"],"items":{"type":"string","description":"Possible allergens for the meal","example":"[\"gluten\",\"lactose\"]"}},"calories":{"type":"integer","description":"Calories for the meal in kcal","format":"int32","example":865}}},"Meal":{"required":["categoryId","name"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"price":{"type":"number","format":"double"},"photographUrl":{"type":"string"},"ingredients":{"type":"array","items":{"type":"string"}},"removableIngredList":{"type":"array","items":{"type":"string"}},"weightOrVolume":{"type":"number","format":"double"},"unitType":{"type":"string","enum":["GRAMY","MILILITRY"]},"categoryId":{"type":"integer","format":"int64"},"allergens":{"type":"array","items":{"type":"string"}},"calories":{"type":"integer","format":"int32"}},"description":"Model of a meal"},"RegisterCustomerCommand":{"required":["email","name","phone","surname"],"type":"object","properties":{"name":{"maxLength":50,"minLength":2,"type":"string"},"surname":{"maxLength":50,"minLength":2,"type":"string"},"email":{"pattern":"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$","type":"string"},"phone":{"maxLength":15,"minLength":9,"type":"string"},"password":{"maxLength":50,"minLength":8,"type":"string"}}},"CategoryAddCommand":{"required":["name"],"type":"object","properties":{"name":{"type":"string","description":"Name of the category","example":"Dania główne"},"photographUrl":{"type":"string","description":"URL to photo of the category"}}},"Category":{"required":["name"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"photographUrl":{"type":"string"}},"description":"Model of a category"},"RegisterUserCommand":{"required":["email","name","phone","surname"],"type":"object","properties":{"name":{"maxLength":50,"minLength":2,"type":"string"},"surname":{"maxLength":50,"minLength":2,"type":"string"},"email":{"pattern":"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$","type":"string"},"phone":{"maxLength":15,"minLength":9,"type":"string"},"password":{"maxLength":50,"minLength":8,"type":"string"}}},"RegisterResponseDTO":{"type":"object","properties":{"customerId":{"type":"integer","format":"int64"},"name":{"type":"string"},"surname":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"}}},"LoginCommand":{"required":["password"],"type":"object","properties":{"email":{"type":"string","description":"Email","example":"kazimierz.odnowiciel@wp.pl"},"password":{"type":"string","description":"Password","example":"!P0lsk@!"}}},"LoginResponseDTO":{"type":"object","properties":{"token":{"type":"string"},"customerId":{"type":"integer","format":"int64"},"customerName":{"type":"string"},"customerSurname":{"type":"string"},"customerEmail":{"type":"string"},"isAdmin":{"type":"boolean"}}},"LocalTime":{"type":"object","properties":{"hour":{"type":"integer","format":"int32"},"minute":{"type":"integer","format":"int32"},"second":{"type":"integer","format":"int32"},"nano":{"type":"integer","format":"int32"}}},"MakeReservationCommand":{"required":["endTime","numberOfPeople","startTime"],"type":"object","properties":{"day":{"type":"string","description":"Reservation day","format":"date","example":"2024-11-01"},"startTime":{"$ref":"#/components/schemas/LocalTime"},"endTime":{"$ref":"#/components/schemas/LocalTime"},"numberOfPeople":{"type":"integer","description":"Amount of people on the reservation","format":"int32","example":4},"customerId":{"type":"integer","description":"Client id responsible for reservation","format":"int64","example":1}}},"Order":{"required":["dateTime","mealIds","status","type"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"mealIds":{"type":"array","items":{"$ref":"#/components/schemas/MealQuantity"}},"orderPrice":{"type":"number","format":"double"},"customerId":{"type":"integer","format":"int64"},"type":{"type":"string","enum":["DOSTAWA","NA_MIEJSCU","DO_STOLIKA"]},"status":{"type":"string","enum":["OCZEKUJĄCE","W_TRAKCIE_REALIZACJI","GOTOWE","W_DOSTRACZENIU","DOSTARCZONE","ODRZUCONE"]},"dateTime":{"type":"string","format":"date-time"},"unwantedIngredients":{"type":"array","items":{"$ref":"#/components/schemas/UnwantedIngredient"}},"paymentIntentClientSecret":{"type":"string"},"deliveryAddress":{"maxLength":150,"minLength":0,"type":"string"},"deliveryDistance":{"type":"number","format":"double"},"deliveryPrice":{"type":"number","format":"double"},"tableReservation":{"$ref":"#/components/schemas/TableReservation"}}},"TableReservation":{"required":["day","endTime","people","startTime"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"tableId":{"type":"string"},"people":{"type":"integer","format":"int32"},"day":{"type":"string","format":"date"},"startTime":{"$ref":"#/components/schemas/LocalTime"},"endTime":{"$ref":"#/components/schemas/LocalTime"},"duration":{"type":"integer","format":"int64"},"customerId":{"type":"integer","format":"int64"},"orders":{"type":"array","items":{"$ref":"#/components/schemas/Order"}}}},"CouponAddCommand":{"required":["code","customerId","discountPercentage","mealId"],"type":"object","properties":{"code":{"type":"string","description":"Kod kuponu","example":"POZNAN20"},"discountPercentage":{"type":"number","description":"Percentage discount for meal","format":"double","example":20},"customerId":{"type":"integer","description":"Client id","format":"int64","example":1},"mealId":{"type":"integer","description":"Id of the discounted meal","format":"int64","example":1},"expiryDate":{"type":"string","description":"Expiry date of the coupon","format":"date-time"}}},"Coupon":{"required":["active","code","discountPercentage"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"code":{"type":"string"},"discountPercentage":{"type":"number","format":"double"},"customer":{"$ref":"#/components/schemas/Customer"},"meal":{"$ref":"#/components/schemas/Meal"},"expiryDate":{"type":"string","format":"date-time"},"active":{"type":"boolean"}}},"Customer":{"required":["email","name","phone","surname"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"surname":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"privilege":{"$ref":"#/components/schemas/Privilege"},"resetToken":{"type":"string"},"resetTokenExpiry":{"type":"string","format":"date-time"}}},"Privilege":{"required":["privilegeName"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"privilegeName":{"type":"string","enum":["USER_PRIVILEGE","ADMIN_PRIVILEGE"]}}},"ContactFormCommand":{"type":"object","properties":{"name":{"maxLength":30,"minLength":2,"type":"string","description":"Sender's name","example":"Brajanek"},"email":{"type":"string","description":"E-mail of the sender","example":"kazimierz.odnowiciek@wp.pl"},"message":{"maxLength":500,"minLength":10,"type":"string","description":"Body of the e-mail message","example":"Kiedyś to było, nie to co teraz..."}}},"ConfigAddCommand":{"required":["city","email","logoUrl","phoneNumber","postalCode","restaurantName","street"],"type":"object","properties":{"restaurantName":{"type":"string","description":"Name of the restaurant","example":"Restauracja pod niebem"},"postalCode":{"type":"string","description":"Postal code of the restaurant","example":"00-000"},"city":{"type":"string","description":"City of the restaurant","example":"Warszawa"},"street":{"type":"string","description":"Street of the restaurant","example":"ul. Marszałkowska 1"},"phoneNumber":{"type":"string","description":"Phone number of the restaurant","example":"123456789"},"email":{"type":"string","description":"Email of the restaurant","example":"abc@wp.pl"},"logoUrl":{"type":"string","description":"URL for the logo","example":"https://www.creativefabrica.com/wp-content/uploads/2018/10/Chef-restaurant-logo-by-DEEMKA-STUDIO-4.jpg"},"openingHours":{"type":"array","description":"Opening hours of the restaurant","example":[{"day":"MONDAY","openingTime":"10:00","closingTime":"22:00"},{"day":"TUESDAY","openingTime":"11:00","closingTime":"22:00"},{"day":"WEDNESDAY","openingTime":"12:00","closingTime":"22:00"},{"day":"THURSDAY","openingTime":"13:00","closingTime":"22:00"},{"day":"FRIDAY","openingTime":"14:00","closingTime":"22:00"},{"day":"SATURDAY","openingTime":"15:00","closingTime":"22:00"},{"day":"SUNDAY","openingTime":"16:00","closingTime":"22:00"}],"items":{"$ref":"#/components/schemas/OpeningHour"}},"deliveryPricings":{"type":"array","description":"Delivery prices of the restaurant","example":[{"maximumRange":1,"price":5.99},{"maximumRange":5,"price":5.99},{"maximumRange":10,"price":5.99}],"items":{"$ref":"#/components/schemas/DeliveryPricing"}}}},"DeliveryPricing":{"required":["maximumRange","price"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"maximumRange":{"type":"integer","format":"int32"},"price":{"type":"number","format":"double"}}},"OpeningHour":{"required":["closingTime","day","openingTime"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"day":{"type":"string","enum":["MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY","SUNDAY"]},"openingTime":{"$ref":"#/components/schemas/LocalTime"},"closingTime":{"$ref":"#/components/schemas/LocalTime"}}},"PossibleReservationHoursForDayDTO":{"type":"object","properties":{"date":{"type":"string","format":"date"},"possibleStartTimes":{"type":"array","items":{"$ref":"#/components/schemas/LocalTime"}}}},"AverageRatingResponseDTO":{"type":"object","properties":{"averageRating":{"type":"number","format":"double"},"numberOfOpinions":{"type":"integer","format":"int32"}}},"Config":{"required":["city","email","logoUrl","phoneNumber","postalCode","restaurantName","street"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"restaurantName":{"type":"string","description":"Name of the restaurant","example":"Restauracja pod niebem"},"postalCode":{"type":"string","description":"Postal code of the restaurant","example":"60-123"},"city":{"type":"string","description":"City of the restaurant","example":"Warszawa"},"street":{"type":"string","description":"Street of the restaurant","example":"ul. Marszałkowska 1"},"phoneNumber":{"type":"string","description":"Phone number of the restaurant","example":"123456789"},"email":{"type":"string","description":"Email of the restaurant","example":"abc@wp.pl"},"logoUrl":{"type":"string","description":"URL for the logo","example":"https://www.creativefabrica.com/wp-content/uploads/2018/10/Chef-restaurant-logo-by-DEEMKA-STUDIO-4.jpg"}}}}}}